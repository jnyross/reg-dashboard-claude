{
  "project": {
    "name": "Law-Centric Regulatory Dashboard Refactor",
    "version": "v5-law-first",
    "owner": "John",
    "engine": "claude",
    "goal": "Model regulation intelligence around canonical laws with many updates, while preserving event-level provenance."
  },
  "requirements": {
    "dataModel": [
      "Introduce laws table (canonical law entity)",
      "Introduce law_updates table (timeline updates mapped to events)",
      "Stable law_key generation with jurisdiction scope",
      "Backfill existing regulation_events into canonical law graph",
      "Merge duplicate laws via canonical grouping"
    ],
    "api": [
      "GET /api/laws (paginated, filterable)",
      "GET /api/laws/:lawKey (law detail + timeline)",
      "GET /api/laws/:lawKey/updates",
      "POST /api/laws/rebuild",
      "GET /api/brief must return top laws"
    ],
    "ui": [
      "Dashboard briefing cards must be law-first",
      "Law detail modal shows update timeline",
      "Support one-law-many-updates analyst workflow"
    ],
    "quality": [
      "Jest tests for canonicalization + law APIs",
      "Explicit test proving 1 law -> many updates",
      "Build passes",
      "Live validation on Railway endpoint"
    ]
  },
  "acceptanceCriteria": [
    "Canonical law records can be rebuilt from existing events without data loss",
    "At least one law surfaces with update_count > 1",
    "Brief endpoint ranks law entities by risk/urgency",
    "Event endpoints remain functional",
    "Self-score >= 95"
  ]
}
